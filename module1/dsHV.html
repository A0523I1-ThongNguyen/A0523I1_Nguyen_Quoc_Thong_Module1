<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xây dựng lớp mô tả Danh Sach Hoc Vien</title>
</head>
<body>

<button onclick="addHV()">Them Hoc Vien</button>
<button onclick="updateHV()">Sua thong tin hoc vien</button>
<button onclick="deleteHV()">Xoa hoc vien</button>
<br><br>
<div>
    <label>Ma HV : <input type="text" id="maHv"> </label>
    <label>Ten HV : <input type="text" id="tenHv"> </label>
    <label>Lop : <input type="text" id="lop"> </label>
    <label>Email : <input type="text" id="email"> </label>
    <label>Ngay sinh : <input type="text" id="date"> </label>

    <button id="btn-save" onclick="save()">Save</button>
    <br><br>
</div>

<div id="tableHv"> result</div>

<script>

    class DSHocVien {
        constructor(maHv, tenHv, lop, email, date) {
            this._maHv = maHv;
            this._tenHv = tenHv;
            this._lop = lop;
            this._email = email;
            this._date = date
        }

        set maHv(value) {
            this._maHv = value;
        }

        get maHv() {
            return this._maHv
        }

        set tenHv(value) {
            this._tenHv = value;
        }

        get tenHv() {
            return this._tenHv
        }

        set lop(value) {
            this._lop = value;
        }

        get lop() {
            return this._lop
        }

        set email(value) {
            this._email = value;
        }

        get email() {
            return this._email
        }

        set date(value) {
            this._date = value;
        }

        get date() {
            return this._date
        }

    }

    let hocvienArray = [];
    let hv1 = new DSHocVien("hv01", "Anh Phan", "A05", "luckystar@gmail.com", "20 / 07 / 1998")
    let hv2 = new DSHocVien("hv02", "Thong Nguyen", "A05", "dunglam@gmail.com", "18 / 02 / 1998")
    let hv3 = new DSHocVien("hv03", "Dung Le", "A05", "dungle@gmail.com", "20 / 09/ 1995")


    hocvienArray.push(hv1)
    hocvienArray.push(hv2)
    hocvienArray.push(hv3)

    //first : function read hien thi ra man hinh

    function showDSHocVien(dsHocVien) {
        let stringHocVien = "<table border='2'>";
        stringHocVien += "<tr>" +
            "<th>Ma hoc vien</th>" +
            "<th>Ten hoc vien</th>" +
            "<th>Lop</th>" +
            "<th>Email</th>" +
            "<th>Ngay sinh</th>" +
            "</tr>";

        for (let i = 0; i < dsHocVien.length; i++) {
            stringHocVien += "<tr>" +
                "<td>" + dsHocVien[i].maHv + "</td>" +
                "<td>" + dsHocVien[i].tenHv + "</td>" +
                "<td>" + dsHocVien[i].lop + "</td>" +
                "<td>" + dsHocVien[i].email + "</td>" +
                "<td>" + dsHocVien[i].date + "</td>" +
                "</tr>"
        }

        stringHocVien += "</table>";
        document.getElementById("tableHv").innerHTML = stringHocVien;
    }

    showDSHocVien(hocvienArray)

    //Tao function them Hoc Vien Moi

    function addHV() {
        let code = document.getElementById("maHv").value;
        let name = document.getElementById("tenHv").value;
        let classroom = document.getElementById("lop").value;
        let email = document.getElementById("email").value;
        let date = document.getElementById("date").value;

        let newHV = new DSHocVien(code, name, classroom, email, date);

        hocvienArray.push(newHV);

        showDSHocVien(hocvienArray)
    }

    function deleteHV(){
        let delHV = prompt("Nhap ten hoc vien can xoa")
        for (let i = 0 ; i < hocvienArray.length; i++){
            if (hocvienArray[i].tenHv === delHV){
                hocvienArray.splice(i,1)

            }
        }
        showDSHocVien(hocvienArray)
    }

    let updatingHV;

    function updateHV() {
        let newHV = prompt("Nhap ma so HV can sua ");
        for (let i = 0; i < hocvienArray.length; i++) {
            if (hocvienArray[i].maHv === newHV) {
                document.getElementById("maHv").value = hocvienArray[i].maHv;
                document.getElementById("tenHv").value = hocvienArray[i].tenHv;
                document.getElementById("lop").value = hocvienArray[i].lop;
                document.getElementById("email").value = hocvienArray[i].email;
                document.getElementById("date").value = hocvienArray[i].date;
                updatingHV = hocvienArray[i];
            }
        }
        updating = true;
        showBtn();
    }

    function save (){
        alert("save");
        let code = document.getElementById("maHv").value;
        let name = document.getElementById("tenHv").value;
        let classroom = document.getElementById("lop").value;
        let email = document.getElementById("email").value;
        let date = document.getElementById("date").value;

        updatingHV.maHv = code;
        updatingHV.tenHv = name;
        updatingHV.lop = classroom;
        updatingHV.email = email;
        updatingHV.date = date;
        showDSHocVien(hocvienArray)

        updating = false;
        showBtn()
    }
    let updating = false;


</script>


</body>
</html>
